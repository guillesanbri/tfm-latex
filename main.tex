%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Trabajo Fin de Máster
% Guillermo Sánchez Brizuela
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Qué tipo de documento estamos por comenzar:
\documentclass[a4paper,11pt,oneside]{memoir}
% Esto es para que el LaTeX sepa que el texto está en español:
\usepackage[spanish,es-tabla,es-ucroman]{babel}
\selectlanguage{spanish}
% Esto es para poder escribir acentos directamente:
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
% Para texto tachado
\usepackage[normalem]{ulem}
% Imágenes en el lateral
\usepackage{wrapfig}
% Tablas
\usepackage{booktabs}
% Anexos
\usepackage{appendix}
%Tablas
\usepackage{float}
\usepackage{tabularx}
%\usepackage{subcaption}

% Leyendas
\usepackage{caption}
\captionsetup{justification=centering}
% Bibliografia en la tabla de contenidos
% \usepackage[nottoc,notlot,notlof]{tocbibind}
% Tablas
\usepackage{booktabs}
\usepackage[table,xcdraw,dvipsnames]{xcolor}

%\setlength{\parskip}{\baselineskip}
\edef\restoreparindent{\parindent=\the\parindent\relax}
\usepackage{parskip}
\restoreparindent

\setlength{\parindent}{0pt}

% Definición de un nuevo comando
\newcommand{\textbfit}[1]{\textbf{\textit{#1}}}



%% Asigna un tamaño a la hoja y los márgenes
%% Configuración antes de la plantilla
\usepackage[a4paper,top=3cm,bottom=2cm,left=2.5cm,right=2.5cm,marginparwidth=2cm]{geometry} 

%% Paquetes de la AMS
\usepackage{amsmath, amsthm, amsfonts}
%% Para añadir archivos con extensión pdf, jpg, png or tif
\usepackage{graphicx} % [draft]
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}
\usepackage[nameinlink,noabbrev,spanish]{cleveref}
\Crefname{table}{Tabla}{Tablas}
% \Crefname{seccion}{Sección}{Sección}
%% Simbolo de grado
\usepackage{gensymb}
%% Imágenes en vertical
\usepackage{subfig}
\usepackage{stackengine}
\def\stackalignment{l}
%% Algoritmos y pseudocódigo
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}

%\usepackage{nomencl}
%\makenomenclature
%\nomenclature{Estática}{(Imagen) Capturada o generada de forma individual y no como parte de un vídeo.}
%\nomenclature{Vídeo}{Sucesión de imágenes continua que aporta ilusión de movimiento.}
%\nomenclature{Online}{(Procesamiento) Que ocurre a medida que llega nueva información.}
%\nomenclature{Offline}{(Procesamiento) Que trabaja sobre información previamente recogida.}
%\def\nomname{Terminología}

%% Primero escribimos el título
%\title{Borrador TFM/Memoria de prácticas:  


% \usepackage{chngcntr}
% \counterwithin{table}{chapter} % con section si que funciona, con chapter no, en el miiutiles se puede resetear a piñon y ya está



\usepackage{lmodern} % Scalable font
\usepackage{microtype}
\usepackage{placeins}

%\RequirePackage{booktabs}
%\RequirePackage[table]{xcolor}
%\RequirePackage{xtab}
%\RequirePackage{multirow}

% Ecuaciones y simbolos (tanto AMS como LaTeX
% \usepackage{amsmath,amssymb,latexsym}

% Rutas de fichero / paquete
% \newcommand{\ruta}[1]{{\sffamily #1}}

% Párrafos
\nonzeroparskip

% Huérfanas y viudas
\widowpenalty100000
\clubpenalty100000

% numeros de secciones
\setsecnumdepth{subsubsection}

% Paper size and margins (para A4)
%\settrimmedsize{297mm}{210mm}{*}
%\setlength{\trimtop}{0pt}
%\setlength{\trimedge}{\stockwidth}
%\addtolength{\trimedge}{-\paperwidth}
%\settypeblocksize{634pt}{448.13pt}{*}
%\setulmargins{4cm}{*}{*}
%\setlrmarginsandblock{2.5cm}{2.5cm}{*}
%\setmarginnotes{36pt}{36pt}{\onelineskip}
%\setheadfoot{\onelineskip}{2\onelineskip}
%\setheaderspaces{*}{2\onelineskip}{*}


\input{miiutiles}


%% Después del "preámbulo", podemos empezar el documento

% Evitar solapes en el header
\nouppercaseheads

% Datos de portada
\title{Estimación de Profundidad Monocular Online con Transformers}
\newcommand{\nombre}[0]{GUILLERMO SÁNCHEZ BRIZUELA} %%% cambio de comando
\newcommand{\depto}[0]{TODO DEPARTAMENTO DEL TUTOR}
\newcommand{\areac}[0]{TODO AREA\_CONOCIMIENTO DEL TUTOR}
\author{\nombre}
\tutor{NOMBRE TUTOR TUTORIS}
\date{\today}

\begin{document}

\maketitle



\newpage\null\thispagestyle{empty}\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\thispagestyle{empty}


\noindent
\begin{center}%
	{\noindent\Huge Universidad de Valladolid}\vspace{.5cm}%
	
\begin{center}%
	\includegraphics[height=3cm]{imagenes/escudoUVA} \hspace{1cm}
\end{center}%

	{\noindent\Large \textbf{Máster universitario en Ingeniería Informática}}\vspace{.5cm}%
\end{center}%



\noindent D. \makeatletter\@tutor\makeatother, profesor del departamento de \depto, área de \areac.

\noindent \textbf{Expone}:

\noindent Que el alumno D. \nombre, %con DNI dni,
ha realizado el Trabajo final de Máster en Ingeniería Informática titulado "\makeatletter\textsc{\@title{}}\makeatother". 

\noindent Y que dicho trabajo ha sido realizado por el alumno bajo la dirección del que suscribe, en virtud de lo cual se autoriza su presentación y defensa.

\begin{center} %\large
En Valladolid, {\large \today}
\end{center}

\vfill\vfill\vfill

%% Author and supervisor
%\begin{minipage}{0.45\textwidth}
%\begin{flushleft} %\large
%Vº. Bº. del Tutor:\\[2cm]
%D. nombre tutor
%\end{flushleft}
%\end{minipage}
%\hfill
%\begin{minipage}{0.45\textwidth}
%\begin{flushleft} %\large
%Vº. Bº. del co-tutor:\\[2cm]
%D. nombre co-tutor
%\end{flushleft}
%\end{minipage}
%\hfill
%
%\vfill

% para casos con solo un tutor comentar lo anterior
% y descomentar lo siguiente
Vº. Bº. del Tutor:\\[2cm]
D. nombre tutor


\newpage\null\thispagestyle{empty}\newpage




\frontmatter

% Abstract en castellano
\renewcommand*\abstractname{Resumen}
\begin{abstract}
En este primer apartado se hace una \textbf{breve} presentación del tema que se aborda en el proyecto.
\end{abstract}

\renewcommand*\abstractname{Descriptores}
\begin{abstract}
Palabras separadas por comas que identifiquen el contenido del proyecto Ej: servidor web, buscador de vuelos, android \ldots
\end{abstract}

\clearpage

% Abstract en inglés
\renewcommand*\abstractname{Abstract}
\begin{abstract}
A \textbf{brief} presentation of the topic addressed in the project.
\end{abstract}

\renewcommand*\abstractname{Keywords}
\begin{abstract}
keywords separated by commas.
\end{abstract}









%% Imprimimos la nomenclatura
% \todo[inline]{Repasar las definiciones.}
% \printnomenclature[3cm]















\clearpage

% Indices
%% Tabla de contenido
{
    \setcounter{tocdepth}{3}
    \setcounter{secnumdepth}{3}
    \hypersetup{linkcolor=black}
    \tableofcontents
}
\clearpage
\listoffigures
\clearpage
\listoftables
\clearpage
\mainmatter

\include{Introduccion}
\include{Marco-teorico-sota}
\include{Material-y-metodos}
\include{Modificaciones-y-desarrollo}
\include{Resultados}
\include{Discusion}
\include{Conclusiones-lineas-futuras}


%\renewcommand\chaptername{Anexo}
%\renewcommand\thechapter{\Roman{chapter}}
% \setcounter{chapter}{0}

% Añadir entrada en el índice: Anexos
\appendix
\addcontentsline{toc}{part}{Apéndices}
\part*{Apéndices}

%\include{./tex/A_Plan_proyecto}
%\include{./tex/B_Requisitos}


\bibliographystyle{ieeetr}
\clearpage
\bibliography{referencias}

\end{document}














%El dataset de profundidad que se usa para entrenar DPT (MIX6) es una ampliación de MIX5, presentado en \url{https://arxiv.org/abs/1907.01341}, el cual incluía los datasets:
%\begin{itemize}
%\item ReDWeb (\url{https://sites.google.com/site/redwebcvpr18/})
%\item DIML (\url{https://dimlrgbd.github.io/})
%\item 3D Movies (\url{https://github.com/isl-org/MiDaS/issues/13}) (\url{https://github.com/isl-org/MiDaS/issues/24}) el material complementario no está en el paperv3, ver v2 \url{https://arxiv.org/pdf/1907.01341v2.pdf}
%\item MegaDepth (\url{https://www.cs.cornell.edu/projects/megadepth/})
%\item WSVD (este también es un jaleo hacerlo \url{https://sites.google.com/view/wsvd/home} ; \url{https://github.com/aycatakmaz/wsvd_dataset_loader}) se descargan vídeos de youtube y se calcula, parecido a 3d movies, parece más automatizado.
%\end{itemize}
%
%Para el artículo de DPT, se incluyen cinco dataset más para conseguir MIX6:
%\begin{itemize}
%\item TartanAir (\url{https://theairlab.org/tartanair-dataset/})
%\item HRWSI (\url{https://github.com/KexianHust/Structure-Guided-Ranking-Loss})
%\item ApolloScape (\url{http://apolloscape.auto/stereo.html})
%\item BlendedMVS (\url{https://github.com/YoYo000/BlendedMVS})
%\item IRS (\url{https://github.com/HKBU-HPML/IRS})
%\end{itemize}
%
%Estos datasets se usan para entrenamiento solamente. Para el test, se usan los siguientes datasets: 
%
%\begin{itemize}
%\item DIW (\url{http://www-personal.umich.edu/~wfchen/depth-in-the-wild/})
%\item ETH3D (\url{https://www.eth3d.net/datasets})
%\item Sintel (\url{http://sintel.is.tue.mpg.de/about})
%\item KITTI (\url{https://stackoverflow.com/questions/63512296/kitti-eigen-split} - \url{http://www.cvlibs.net/datasets/kitti/eval_depth.php?benchmark=depth_prediction})
%\item NYU (\url{https://cs.nyu.edu/~silberman/datasets/nyu_depth_v2.html})
%\item TUM (\url{https://vision.in.tum.de/data/datasets/rgbd-dataset}). 
%Tanto en el paper de DPT como en el paper de MiDas (versión anterior y convolucional de DPT (\url{https://github.com/isl-org/MiDaS})).
%\end{itemize}